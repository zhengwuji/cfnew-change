# V2Rayæ–¹å¼å®ç°RDPè‡ªåŠ¨åŠ é€Ÿ - å®Œæ•´æŒ‡å—

## ğŸ¯ æ–¹æ¡ˆä¼˜åŠ¿

ä½¿ç”¨V2Ray + WebSocketæ–¹å¼ï¼Œæ— éœ€Node.jsæ¡¥æ¥è„šæœ¬ï¼Œæ›´ç®€å•ï¼

âœ… **ä¼˜ç‚¹ï¼š**
- è‡ªåŠ¨åŠ é€Ÿï¼Œæ— éœ€æ‰‹åŠ¨è¿è¡Œè„šæœ¬
- åˆ©ç”¨ç°æœ‰çš„VLESS WebSocketéš§é“
- æ”¯æŒå¤šä¸ªRDPæœåŠ¡å™¨åŒæ—¶é…ç½®
- å›¾å½¢åŒ–ç•Œé¢ç®¡ç†ï¼ˆV2RayNï¼‰
- å¼€æœºè‡ªå¯ï¼Œåå°è¿è¡Œ

---

## ğŸ“¦ å‡†å¤‡å·¥ä½œ

### æ–¹å¼ä¸€ï¼šV2RayNï¼ˆæ¨èï¼Œæœ‰GUIç•Œé¢ï¼‰

**ä¸‹è½½åœ°å€ï¼š** https://github.com/2dust/v2rayN/releases

1. ä¸‹è½½æœ€æ–°ç‰ˆ `v2rayN-windows-64.zip`
2. è§£å‹åˆ°ä»»æ„ç›®å½•ï¼ˆå¦‚ `C:\V2RayN`ï¼‰
3. è¿è¡Œ `v2rayN.exe`

### æ–¹å¼äºŒï¼šV2Ray Coreï¼ˆå‘½ä»¤è¡Œç‰ˆï¼‰

**ä¸‹è½½åœ°å€ï¼š** https://github.com/v2fly/v2ray-core/releases

1. ä¸‹è½½ `v2ray-windows-64.zip`
2. è§£å‹åˆ°ä»»æ„ç›®å½•
3. ä½¿ç”¨é…ç½®æ–‡ä»¶è¿è¡Œ

---

## ğŸš€ å¿«é€Ÿé…ç½®ï¼ˆV2RayNå›¾å½¢ç•Œé¢ï¼‰

### æ–¹æ³•Aï¼šæ‰‹åŠ¨æ·»åŠ RDPä»£ç†é…ç½®

**æ­¥éª¤1ï¼šæ·»åŠ æœåŠ¡å™¨**

1. æ‰“å¼€V2RayN
2. ç‚¹å‡»"æœåŠ¡å™¨" â†’ "æ·»åŠ VLESSæœåŠ¡å™¨"
3. å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š

```
åˆ«åï¼ˆremarksï¼‰ï¼š     RDPåŠ é€Ÿ - åŠå…¬æœåŠ¡å™¨
åœ°å€ï¼ˆaddressï¼‰ï¼š     ccrough-block-ebe1cc.852446634.workers.dev
ç«¯å£ï¼ˆportï¼‰ï¼š        443
ç”¨æˆ·IDï¼ˆidï¼‰ï¼š        9ac70987-feda-4925-83a2-9f3328c28f4a
æµæ§ï¼ˆflowï¼‰ï¼š        ç•™ç©º
åŠ å¯†ï¼ˆencryptionï¼‰ï¼š  none
ä¼ è¾“åè®®ï¼ˆnetworkï¼‰ï¼š ws
ä¼ªè£…ç±»å‹ï¼š            none
è·¯å¾„ï¼ˆpathï¼‰ï¼š        /?ed=2048
ä¼ è¾“å±‚å®‰å…¨ï¼ˆtlsï¼‰ï¼š   tls
```

**æ­¥éª¤2ï¼šé…ç½®Dokodemo-doorå…¥ç«™**

V2RayNä¸ç›´æ¥æ”¯æŒdokodemo-dooré…ç½®ï¼Œéœ€è¦æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶ã€‚

1. åœ¨V2RayNç•Œé¢ï¼Œç‚¹å‡»"å‚æ•°è®¾ç½®" â†’ "Coreï¼šåŸºç¡€è®¾ç½®"
2. æ‰¾åˆ°é…ç½®æ–‡ä»¶ä½ç½®ï¼ˆé€šå¸¸æ˜¯ `C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Roaming\v2rayN\guiNConfig\config.json`ï¼‰
3. ä½¿ç”¨æä¾›çš„ `v2ray-rdp-config.json` æ¨¡æ¿
4. é‡å¯V2RayN

### æ–¹æ³•Bï¼šä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆæ¨èï¼‰

**æ­¥éª¤1ï¼šç¼–è¾‘é…ç½®æ–‡ä»¶**

æ‰“å¼€ `v2ray-rdp-config.json`ï¼Œä¿®æ”¹ä»¥ä¸‹ä¿¡æ¯ï¼š

```json
{
  "inbounds": [
    {
      "port": 13389,  // â† æœ¬åœ°RDPç«¯å£ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
      "settings": {
        "address": "192.168.1.100",  // â† âš ï¸ æ”¹ä¸ºä½ çš„å®é™…RDPæœåŠ¡å™¨åœ°å€
        "port": 3389  // â† RDPæœåŠ¡å™¨ç«¯å£
      }
    }
  ],
  "outbounds": [
    {
      "settings": {
        "vnext": [{
          "address": "ä½ çš„WorkersåŸŸå",  // â† âš ï¸ æ”¹ä¸ºä½ çš„å®é™…åŸŸå
          "users": [{
            "id": "ä½ çš„UUID"  // â† âš ï¸ æ”¹ä¸ºä½ çš„å®é™…UUID
          }]
        }]
      },
      "streamSettings": {
        "tlsSettings": {
          "serverName": "ä½ çš„WorkersåŸŸå"  // â† âš ï¸ æ”¹ä¸ºä½ çš„å®é™…åŸŸå
        },
        "wsSettings": {
          "headers": {
            "Host": "ä½ çš„WorkersåŸŸå"  // â† âš ï¸ æ”¹ä¸ºä½ çš„å®é™…åŸŸå
          }
        }
      }
    }
  ]
}
```

**æ­¥éª¤2ï¼šè¿è¡ŒV2Ray**

**ä½¿ç”¨V2RayNï¼š**
1. å°†é…ç½®æ–‡ä»¶å¯¼å…¥V2RayN
2. æˆ–è€…ç›´æ¥æ›¿æ¢é…ç½®æ–‡ä»¶è·¯å¾„ä¸‹çš„æ–‡ä»¶

**ä½¿ç”¨V2Ray Coreï¼š**
```powershell
cd C:\V2Ray
v2ray.exe run -c v2ray-rdp-config.json
```

**æ­¥éª¤3ï¼šè¿æ¥RDP**

```
æ‰“å¼€è¿œç¨‹æ¡Œé¢è¿æ¥ï¼ˆmstscï¼‰
è¾“å…¥ï¼šlocalhost:13389
```

å°±è¿™ä¹ˆç®€å•ï¼ğŸ‰

---

## ğŸ”§ å¤šæœåŠ¡å™¨é…ç½®

å¦‚æœéœ€è¦åŒæ—¶é…ç½®å¤šä¸ªRDPæœåŠ¡å™¨ï¼š

```json
{
  "inbounds": [
    {
      "tag": "rdp-server1",
      "port": 13389,
      "protocol": "dokodemo-door",
      "settings": {
        "address": "192.168.1.100",
        "port": 3389,
        "network": "tcp"
      }
    },
    {
      "tag": "rdp-server2",
      "port": 13390,
      "protocol": "dokodemo-door",
      "settings": {
        "address": "192.168.1.101",
        "port": 3389,
        "network": "tcp"
      }
    },
    {
      "tag": "rdp-server3",
      "port": 13391,
      "protocol": "dokodemo-door",
      "settings": {
        "address": "10.0.0.50",
        "port": 3389,
        "network": "tcp"
      }
    }
  ],
  "outbounds": [
    {
      "tag": "rdp-proxy",
      "protocol": "vless",
      // ... å…¶ä»–é…ç½®åŒä¸Š
    }
  ],
  "routing": {
    "rules": [
      {
        "type": "field",
        "inboundTag": ["rdp-server1", "rdp-server2", "rdp-server3"],
        "outboundTag": "rdp-proxy"
      }
    ]
  }
}
```

ç„¶åï¼š
- è¿æ¥æœåŠ¡å™¨1ï¼š`localhost:13389`
- è¿æ¥æœåŠ¡å™¨2ï¼š`localhost:13390`
- è¿æ¥æœåŠ¡å™¨3ï¼š`localhost:13391`

---

## ğŸ“‹ å®Œæ•´ä½¿ç”¨æµç¨‹

### ä¸€æ¬¡æ€§é…ç½®ï¼ˆé¦–æ¬¡ï¼‰

```powershell
# 1. ä¸‹è½½V2RayN
# è®¿é—® https://github.com/2dust/v2rayN/releases
# ä¸‹è½½å¹¶è§£å‹

# 2. å¤åˆ¶é…ç½®æ–‡ä»¶
copy v2ray-rdp-config.json C:\V2RayN\config\

# 3. ç¼–è¾‘é…ç½®æ–‡ä»¶
notepad C:\V2RayN\config\v2ray-rdp-config.json
# ä¿®æ”¹ï¼šæœåŠ¡å™¨åœ°å€ã€UUIDã€RDPç›®æ ‡åœ°å€

# 4. è¿è¡ŒV2RayN
C:\V2RayN\v2rayN.exe
```

### æ—¥å¸¸ä½¿ç”¨

```
1. ç¡®ä¿V2RayNåœ¨è¿è¡Œï¼ˆç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ï¼‰
2. æ‰“å¼€è¿œç¨‹æ¡Œé¢ï¼šWin + R â†’ mstsc
3. è¾“å…¥ï¼šlocalhost:13389
4. è¾“å…¥RDPæœåŠ¡å™¨çš„ç”¨æˆ·åå’Œå¯†ç 
5. æˆåŠŸè¿æ¥ï¼
```

---

## ğŸ¨ V2RayNæ¨èè®¾ç½®

### å¼€æœºè‡ªå¯

1. V2RayNä¸»ç•Œé¢
2. ç‚¹å‡»"è®¾ç½®" â†’ "å‚æ•°è®¾ç½®"
3. å‹¾é€‰"å¼€æœºè‡ªå¯åŠ¨"
4. å‹¾é€‰"ç³»ç»Ÿä»£ç†" â†’ "å¯ç”¨"

### åå°è¿è¡Œ

1. æœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜
2. å…³é—­çª—å£ä¸é€€å‡ºç¨‹åº
3. åŒå‡»æ‰˜ç›˜å›¾æ ‡æ¢å¤ç•Œé¢

### æ—¥å¿—æŸ¥çœ‹

1. V2RayNä¸»ç•Œé¢
2. ç‚¹å‡»"å·¥å…·" â†’ "æŸ¥çœ‹æ—¥å¿—"
3. å®æ—¶æŸ¥çœ‹è¿æ¥çŠ¶æ€

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. é€‰æ‹©æœ€ä¼˜CDNèŠ‚ç‚¹

åœ¨V2Rayé…ç½®ä¸­å¯ä»¥æŒ‡å®šä¼˜é€‰IPï¼š

```json
{
  "outbounds": [{
    "settings": {
      "vnext": [{
        "address": "ä¼˜é€‰IPåœ°å€",  // ä½¿ç”¨æµ‹é€Ÿåçš„æœ€ä½³IP
        "port": 443
      }]
    },
    "streamSettings": {
      "wsSettings": {
        "headers": {
          "Host": "ä½ çš„WorkersåŸŸå"  // Host headerä»ç„¶æ˜¯åŸŸå
        }
      }
    }
  }]
}
```

### 2. å¯ç”¨mKCPï¼ˆå¯é€‰ï¼‰

å¦‚æœWorkersæ”¯æŒï¼Œå¯ä»¥æ”¹ç”¨mKCPè·å¾—æ›´å¥½çš„æ€§èƒ½ï¼š

```json
{
  "streamSettings": {
    "network": "kcp",
    "kcpSettings": {
      "mtu": 1350,
      "tti": 50,
      "uplinkCapacity": 12,
      "downlinkCapacity": 100,
      "congestion": true,
      "readBufferSize": 2,
      "writeBufferSize": 2,
      "header": {
        "type": "none"
      }
    }
  }
}
```

### 3. è°ƒæ•´ç¼“å†²åŒºå¤§å°

```json
{
  "policy": {
    "levels": {
      "0": {
        "handshake": 4,
        "connIdle": 300,
        "uplinkOnly": 2,
        "downlinkOnly": 5,
        "bufferSize": 10240
      }
    }
  }
}
```

---

## ğŸ› ï¸ æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šV2Rayæ— æ³•å¯åŠ¨

**æ£€æŸ¥ï¼š**
```powershell
# æŸ¥çœ‹V2Rayæ—¥å¿—
type C:\V2RayN\guiNConfig\access.log
type C:\V2RayN\guiNConfig\error.log
```

**å¸¸è§åŸå› ï¼š**
- é…ç½®æ–‡ä»¶JSONæ ¼å¼é”™è¯¯
- UUIDæ ¼å¼ä¸æ­£ç¡®
- ç«¯å£è¢«å ç”¨

### é—®é¢˜2ï¼šRDPè¿æ¥å¤±è´¥

**æµ‹è¯•è¿æ¥ï¼š**
```powershell
# æµ‹è¯•æœ¬åœ°ç«¯å£æ˜¯å¦ç›‘å¬
netstat -an | findstr :13389

# æµ‹è¯•Workersè¿æ¥
curl -I https://ä½ çš„WorkersåŸŸå
```

**æ£€æŸ¥æ¸…å•ï¼š**
- âœ… V2Rayæ˜¯å¦æ­£åœ¨è¿è¡Œ
- âœ… é…ç½®ä¸­çš„RDPæœåŠ¡å™¨åœ°å€æ˜¯å¦æ­£ç¡®
- âœ… WorkersåŸŸåæ˜¯å¦å¯è®¿é—®
- âœ… UUIDæ˜¯å¦æ­£ç¡®

### é—®é¢˜3ï¼šè¿æ¥å¾ˆæ…¢

**ä¼˜åŒ–æ–¹æ¡ˆï¼š**
1. ä½¿ç”¨ä¼˜é€‰IPä»£æ›¿åŸŸå
2. å¯ç”¨è·¯ç”±è§„åˆ™ï¼Œç›´è¿å›½å†…æµé‡
3. è°ƒæ•´V2Rayç¼“å†²åŒºå¤§å°
4. ä½¿ç”¨æ›´å¿«çš„ä¼ è¾“åè®®ï¼ˆå¦‚mKCPï¼‰

---

## ğŸ†š å¯¹æ¯”ï¼šV2Ray vs Node.jsæ¡¥æ¥

| ç‰¹æ€§ | V2Rayæ–¹å¼ | Node.jsæ¡¥æ¥ |
|------|-----------|-------------|
| **å®‰è£…å¤æ‚åº¦** | â­â­ ç®€å• | â­â­â­ éœ€è¦Node.js |
| **ä½¿ç”¨ä¾¿æ·æ€§** | â­â­â­â­â­ ä¸€æ¬¡é…ç½® | â­â­â­ æ¯æ¬¡æ‰‹åŠ¨è¿è¡Œ |
| **å¼€æœºè‡ªå¯** | âœ… æ”¯æŒ | âš ï¸ éœ€é¢å¤–é…ç½® |
| **å›¾å½¢ç•Œé¢** | âœ… V2RayN | âŒ å‘½ä»¤è¡Œ |
| **æ€§èƒ½** | â­â­â­â­â­ åŸç”Ÿ | â­â­â­â­ JavaScript |
| **èµ„æºå ç”¨** | â­â­â­â­ ä½ | â­â­â­ ä¸­ç­‰ |
| **å¤šæœåŠ¡å™¨** | âœ… è½»æ¾é…ç½® | âš ï¸ éœ€è¦å¤šä¸ªå®ä¾‹ |

**æ¨èï¼šV2Rayæ–¹å¼** ğŸ†

---

## ğŸ“ é…ç½®æ–‡ä»¶æ¨¡æ¿

### å•æœåŠ¡å™¨ç‰ˆ

```json
{
  "log": {"loglevel": "warning"},
  "inbounds": [{
    "port": 13389,
    "protocol": "dokodemo-door",
    "settings": {
      "address": "RDPæœåŠ¡å™¨IP",
      "port": 3389,
      "network": "tcp"
    }
  }],
  "outbounds": [{
    "protocol": "vless",
    "settings": {
      "vnext": [{
        "address": "WorkersåŸŸå",
        "port": 443,
        "users": [{"id": "UUID", "encryption": "none"}]
      }]
    },
    "streamSettings": {
      "network": "ws",
      "security": "tls",
      "tlsSettings": {"serverName": "WorkersåŸŸå"},
      "wsSettings": {
        "path": "/?ed=2048",
        "headers": {"Host": "WorkersåŸŸå"}
      }
    }
  }]
}
```

### å¤šæœåŠ¡å™¨ç‰ˆï¼ˆ3å°ï¼‰

å‚è€ƒä¸Šé¢çš„"å¤šæœåŠ¡å™¨é…ç½®"ç« èŠ‚

---

## ğŸ’¡ é«˜çº§æŠ€å·§

### 1. ä½¿ç”¨CDNä¼˜é€‰IP

```bash
# ä¸‹è½½CloudflareSTæµ‹é€Ÿå·¥å…·
# https://github.com/XIU2/CloudflareSpeedTest

# æµ‹é€Ÿ
CloudflareST.exe -n 200 -t 4 -sl 5

# ä½¿ç”¨æµ‹é€Ÿç»“æœä¸­çš„æœ€ä½³IPæ›¿æ¢é…ç½®æ–‡ä»¶ä¸­çš„address
```

### 2. åˆ›å»ºå¤šä¸ªé…ç½®æ–‡ä»¶

```
v2ray-rdp-office.json     # åŠå…¬å®¤æœåŠ¡å™¨
v2ray-rdp-home.json       # å®¶ç”¨æœåŠ¡å™¨
v2ray-rdp-vps.json        # VPSæœåŠ¡å™¨
```

åˆ‡æ¢æ—¶è¿è¡Œä¸åŒçš„é…ç½®ï¼š
```powershell
v2ray.exe run -c v2ray-rdp-office.json
```

### 3. ä½¿ç”¨æ‰¹å¤„ç†æ–‡ä»¶å¿«é€Ÿå¯åŠ¨

**start-rdp-office.bat:**
```batch
@echo off
cd C:\V2Ray
start v2ray.exe run -c v2ray-rdp-office.json
timeout 2
start mstsc /v:localhost:13389
```

åŒå‡»å³å¯è‡ªåŠ¨å¯åŠ¨V2Rayå¹¶æ‰“å¼€RDPï¼

---

## ğŸ‰ æ€»ç»“

V2Ray + WebSocketæ–¹å¼å®ç°RDPåŠ é€Ÿçš„ä¼˜åŠ¿ï¼š

1. âœ… **ä¸€æ¬¡é…ç½®ï¼Œæ°¸ä¹…ä½¿ç”¨** - å¼€æœºè‡ªå¯ï¼Œæ— éœ€å…³å¿ƒ
2. âœ… **å›¾å½¢åŒ–ç®¡ç†** - V2RayNæä¾›å‹å¥½ç•Œé¢
3. âœ… **æ€§èƒ½ä¼˜å¼‚** - åŸç”Ÿå®ç°ï¼Œä½å»¶è¿Ÿ
4. âœ… **å¤šæœåŠ¡å™¨æ”¯æŒ** - è½»æ¾ç®¡ç†å¤šå°RDPæœåŠ¡å™¨
5. âœ… **æˆç†Ÿç¨³å®š** - V2Rayæ˜¯ç»è¿‡éªŒè¯çš„æˆç†Ÿæ–¹æ¡ˆ

ç°åœ¨ä½ å¯ä»¥äº«å—è‡ªåŠ¨åŒ–çš„RDPåŠ é€ŸæœåŠ¡äº†ï¼ğŸš€

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥V2Rayæ—¥å¿—
2. ç¡®è®¤é…ç½®æ–‡ä»¶æ ¼å¼æ­£ç¡®
3. æµ‹è¯•Workersè¿æ¥
4. æŸ¥çœ‹ç³»ç»Ÿé˜²ç«å¢™è®¾ç½®

ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸŠ
